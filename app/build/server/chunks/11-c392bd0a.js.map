{"version":3,"file":"11-c392bd0a.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/admin/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/11.js"],"sourcesContent":["import { f as fail } from \"../../../chunks/index.js\";\nconst actions = {\n  default: async (event) => {\n    const data = await event.request.formData();\n    const password = data.get(\"password\");\n    const response = await fetch(\"http://localhost:3000/login\", {\n      method: \"POST\",\n      body: JSON.stringify({ password }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (response.status != 200) {\n      return fail(response.status, { error: \"ContraseÃ±a incorrecta\" });\n    }\n    const login = await response.json();\n    event.cookies.set(\"AuthorizationToken\", `Bearer ${login.token}`, {\n      httpOnly: true,\n      path: \"/\",\n      secure: false,\n      //TODO set to true when SSL certificates are added\n      sameSite: \"strict\",\n      maxAge: 60 * 60 * 2\n      // 2h\n    });\n    return { success: \"Auth successful\" };\n  }\n};\nexport {\n  actions\n};\n","import * as server from '../entries/pages/admin/_page.server.ts.js';\n\nexport const index = 11;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/admin/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/admin/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/11.74ddd66a.js\",\"_app/immutable/chunks/scheduler.142d0579.js\",\"_app/immutable/chunks/index.afb31315.js\",\"_app/immutable/chunks/forms.ff805141.js\",\"_app/immutable/chunks/parse.bee59afc.js\",\"_app/immutable/chunks/singletons.62e2f722.js\",\"_app/immutable/chunks/paths.098b1e54.js\",\"_app/immutable/chunks/stores.e1744db4.js\"];\nexport const stylesheets = [\"_app/immutable/assets/11.b5351ee1.css\"];\nexport const fonts = [];\n"],"names":[],"mappings":";;AACA,MAAM,OAAO,GAAG;AAChB,EAAE,OAAO,EAAE,OAAO,KAAK,KAAK;AAC5B,IAAI,MAAM,IAAI,GAAG,MAAM,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;AAChD,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAC1C,IAAI,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,6BAA6B,EAAE;AAChE,MAAM,MAAM,EAAE,MAAM;AACpB,MAAM,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,QAAQ,EAAE,CAAC;AACxC,MAAM,OAAO,EAAE;AACf,QAAQ,cAAc,EAAE,kBAAkB;AAC1C,OAAO;AACP,KAAK,CAAC,CAAC;AACP,IAAI,IAAI,QAAQ,CAAC,MAAM,IAAI,GAAG,EAAE;AAChC,MAAM,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,uBAAuB,EAAE,CAAC,CAAC;AACvE,KAAK;AACL,IAAI,MAAM,KAAK,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;AACxC,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,CAAC,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;AACrE,MAAM,QAAQ,EAAE,IAAI;AACpB,MAAM,IAAI,EAAE,GAAG;AACf,MAAM,MAAM,EAAE,KAAK;AACnB;AACA,MAAM,QAAQ,EAAE,QAAQ;AACxB,MAAM,MAAM,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC;AACzB;AACA,KAAK,CAAC,CAAC;AACP,IAAI,OAAO,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC;AAC1C,GAAG;AACH,CAAC;;;;;;;ACzBW,MAAC,KAAK,GAAG,GAAG;AACxB,IAAI,eAAe,CAAC;AACR,MAAC,SAAS,GAAG,YAAY,eAAe,KAAK,CAAC,MAAM,OAAO,4BAAwC,CAAC,EAAE,QAAQ;AAE9G,MAAC,SAAS,GAAG,mCAAmC;AAChD,MAAC,OAAO,GAAG,CAAC,qCAAqC,CAAC,6CAA6C,CAAC,yCAAyC,CAAC,yCAAyC,CAAC,yCAAyC,CAAC,8CAA8C,CAAC,yCAAyC,CAAC,0CAA0C,EAAE;AACnW,MAAC,WAAW,GAAG,CAAC,uCAAuC,EAAE;AACzD,MAAC,KAAK,GAAG;;;;"}