import{s as M,j as se,b as N,f as A,n as te}from"../chunks/scheduler.142d0579.js";import{S as ae,i as le,g as w,s as O,r as G,h as E,y as L,c as S,j as z,f as v,u as H,k as b,C as D,a as k,x as T,D as W,v as V,E as re,t as P,b as J,d as j,w as K,B,e as F,p as Q,F as oe,A as ne,l as ie}from"../chunks/index.afb31315.js";import{e as X}from"../chunks/each.e59479a4.js";import{C as fe}from"../chunks/CardComponent.eed2c840.js";import{f as _e,F as ce}from"../chunks/Filters.f50678df.js";import{G as ue}from"../chunks/Grid.09b0b195.js";const pe=async({fetch:s,params:a})=>{const l=await s("http://localhost:3000/cartas"),i=await s("http://localhost:3000/proyectos/categorias"),e=await s("http://localhost:3000/eventos/categorias");let r=await l.json(),t=await i.json(),o=await e.json();return{cards:r,projectCategories:t,eventCategories:o}},we=Object.freeze(Object.defineProperty({__proto__:null,load:pe},Symbol.toStringTag,{value:"Module"}));function Y(s,a,l){const i=s.slice();return i[15]=a[l],i}function Z(s){let a,l,i,e,r,t;function o(n){s[11](n)}function f(n){s[12](n)}function u(n){s[13](n)}function p(n){s[14](n)}let _={categories:s[5],statuses:s[7]};return s[0]!==void 0&&(_.search_text=s[0]),s[1]!==void 0&&(_.status_filter=s[1]),s[2]!==void 0&&(_.category_filter=s[2]),s[3]!==void 0&&(_.date_filter=s[3]),a=new ce({props:_}),N.push(()=>B(a,"search_text",o)),N.push(()=>B(a,"status_filter",f)),N.push(()=>B(a,"category_filter",u)),N.push(()=>B(a,"date_filter",p)),{c(){G(a.$$.fragment)},l(n){H(a.$$.fragment,n)},m(n,m){V(a,n,m),t=!0},p(n,m){const h={};m&32&&(h.categories=n[5]),!l&&m&1&&(l=!0,h.search_text=n[0],A(()=>l=!1)),!i&&m&2&&(i=!0,h.status_filter=n[1],A(()=>i=!1)),!e&&m&4&&(e=!0,h.category_filter=n[2],A(()=>e=!1)),!r&&m&8&&(r=!0,h.date_filter=n[3],A(()=>r=!1)),a.$set(h)},i(n){t||(j(a.$$.fragment,n),t=!0)},o(n){P(a.$$.fragment,n),t=!1},d(n){K(a,n)}}}function x(s){let a,l,i,e,r,t,o,f,u;return l=new fe({props:{id:s[15]._id,title:s[15].title,description:s[15].description,image_src:s[15].image,date:s[15].date,category:s[15].category,status:s[15].status}}),{c(){a=w("div"),G(l.$$.fragment),i=O(),e=w("div"),r=w("a"),t=w("i"),f=O(),this.h()},l(p){a=E(p,"DIV",{class:!0});var _=z(a);H(l.$$.fragment,_),i=S(_),e=E(_,"DIV",{class:!0});var n=z(e);r=E(n,"A",{href:!0});var m=z(r);t=E(m,"I",{class:!0,style:!0}),z(t).forEach(v),m.forEach(v),n.forEach(v),f=S(_),_.forEach(v),this.h()},h(){b(t,"class","fa-solid fa-pen-to-square fa-2xl"),ie(t,"color","#ffffff"),b(r,"href",o="/edit/"+s[15]._id),b(e,"class","button svelte-1mpze8f"),b(a,"class","edit svelte-1mpze8f")},m(p,_){k(p,a,_),V(l,a,null),T(a,i),T(a,e),T(e,r),T(r,t),T(a,f),u=!0},p(p,_){const n={};_&64&&(n.id=p[15]._id),_&64&&(n.title=p[15].title),_&64&&(n.description=p[15].description),_&64&&(n.image_src=p[15].image),_&64&&(n.date=p[15].date),_&64&&(n.category=p[15].category),_&64&&(n.status=p[15].status),l.$set(n),(!u||_&64&&o!==(o="/edit/"+p[15]._id))&&b(r,"href",o)},i(p){u||(j(l.$$.fragment,p),u=!0)},o(p){P(l.$$.fragment,p),u=!1},d(p){p&&v(a),K(l)}}}function ee(s){let a,l,i=X(s[6]),e=[];for(let t=0;t<i.length;t+=1)e[t]=x(Y(s,i,t));const r=t=>P(e[t],1,1,()=>{e[t]=null});return{c(){for(let t=0;t<e.length;t+=1)e[t].c();a=F()},l(t){for(let o=0;o<e.length;o+=1)e[o].l(t);a=F()},m(t,o){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(t,o);k(t,a,o),l=!0},p(t,o){if(o&64){i=X(t[6]);let f;for(f=0;f<i.length;f+=1){const u=Y(t,i,f);e[f]?(e[f].p(u,o),j(e[f],1)):(e[f]=x(u),e[f].c(),j(e[f],1),e[f].m(a.parentNode,a))}for(Q(),f=i.length;f<e.length;f+=1)r(f);J()}},i(t){if(!l){for(let o=0;o<i.length;o+=1)j(e[o]);l=!0}},o(t){e=e.filter(Boolean);for(let o=0;o<e.length;o+=1)P(e[o]);l=!1},d(t){t&&v(a),ne(e,t)}}}function de(s){let a=s[6],l,i,e=ee(s);return{c(){e.c(),l=F()},l(r){e.l(r),l=F()},m(r,t){e.m(r,t),k(r,l,t),i=!0},p(r,t){t&64&&M(a,a=r[6])?(Q(),P(e,1,1,te),J(),e=ee(r),e.c(),j(e,1),e.m(l.parentNode,l)):e.p(r,t)},i(r){i||(j(e),i=!0)},o(r){P(e),i=!1},d(r){r&&v(l),e.d(r)}}}function me(s){let a,l="Tipo:",i,e,r,t="Todos",o,f="Proyectos",u,p="Eventos",_,n=s[5],m,h,$,y,I='<i class="fa-solid fa-plus fa-2xl"></i>',g,q,R,C=Z(s);return h=new ue({props:{$$slots:{default:[de]},$$scope:{ctx:s}}}),{c(){a=w("label"),a.textContent=l,i=O(),e=w("select"),r=w("option"),r.textContent=t,o=w("option"),o.textContent=f,u=w("option"),u.textContent=p,_=O(),C.c(),m=O(),G(h.$$.fragment),$=O(),y=w("a"),y.innerHTML=I,this.h()},l(c){a=E(c,"LABEL",{for:!0,"data-svelte-h":!0}),L(a)!=="svelte-gcye9a"&&(a.textContent=l),i=S(c),e=E(c,"SELECT",{class:!0,name:!0,id:!0});var d=z(e);r=E(d,"OPTION",{"data-svelte-h":!0}),L(r)!=="svelte-uh9n4x"&&(r.textContent=t),o=E(d,"OPTION",{"data-svelte-h":!0}),L(o)!=="svelte-hogk6x"&&(o.textContent=f),u=E(d,"OPTION",{"data-svelte-h":!0}),L(u)!=="svelte-1qzrxgd"&&(u.textContent=p),d.forEach(v),_=S(c),C.l(c),m=S(c),H(h.$$.fragment,c),$=S(c),y=E(c,"A",{href:!0,class:!0,"data-svelte-h":!0}),L(y)!=="svelte-tos44o"&&(y.innerHTML=I),this.h()},h(){b(a,"for","type"),r.__value="",D(r,r.__value),o.__value="Proyecto",D(o,o.__value),u.__value="Evento",D(u,u.__value),b(e,"class","selector svelte-1mpze8f"),b(e,"name","type"),b(e,"id","type"),s[4]===void 0&&se(()=>s[10].call(e)),b(y,"href","/edit/add"),b(y,"class","floatingActionButton svelte-1mpze8f")},m(c,d){k(c,a,d),k(c,i,d),k(c,e,d),T(e,r),T(e,o),T(e,u),W(e,s[4],!0),k(c,_,d),C.m(c,d),k(c,m,d),V(h,c,d),k(c,$,d),k(c,y,d),g=!0,q||(R=re(e,"change",s[10]),q=!0)},p(c,[d]){d&16&&W(e,c[4]),d&32&&M(n,n=c[5])?(Q(),P(C,1,1,te),J(),C=Z(c),C.c(),j(C,1),C.m(m.parentNode,m)):C.p(c,d);const U={};d&262208&&(U.$$scope={dirty:d,ctx:c}),h.$set(U)},i(c){g||(j(C),j(h.$$.fragment,c),g=!0)},o(c){P(C),P(h.$$.fragment,c),g=!1},d(c){c&&(v(a),v(i),v(e),v(_),v(m),v($),v(y)),C.d(c),K(h,c),q=!1,R()}}}function ge(s,a,l){let{data:i}=a,e="",r="",t="",o="",f="",u,p=["En progreso","Completado","PrÃ³ximamente","Cancelado"],_,n;function m(){f=oe(this),l(4,f)}function h(g){e=g,l(0,e)}function $(g){r=g,l(1,r)}function y(g){t=g,l(2,t)}function I(g){o=g,l(3,o)}return s.$$set=g=>{"data"in g&&l(8,i=g.data)},s.$$.update=()=>{s.$$.dirty&272&&(f==="Evento"?(l(9,_=i.cards.filter(g=>g.type.trim().toLowerCase()==="evento")),l(5,u=[...new Set([...i.eventCategories])])):f==="Proyecto"?(l(9,_=i.cards.filter(g=>g.type.trim().toLowerCase()==="proyecto")),l(5,u=[...new Set([...i.projectCategories])])):(l(9,_=[...i.cards]),l(5,u=[...new Set([...i.eventCategories,...i.projectCategories])]))),s.$$.dirty&527&&l(6,n=_e(_,e,r,t,o))},[e,r,t,o,f,u,n,p,i,_,m,h,$,y,I]}class Ee extends ae{constructor(a){super(),le(this,a,ge,me,M,{data:8})}}export{Ee as component,we as universal};
